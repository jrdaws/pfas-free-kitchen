/* Page Layout with Sticky TOC Sidebar */
.pageLayout {
  display: grid;
  grid-template-columns: 1fr;
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-8) var(--space-4) var(--space-16);
  gap: var(--space-8);
}

@media (min-width: 1024px) {
  .pageLayout {
    grid-template-columns: 1fr 240px;
    padding: var(--space-8) var(--space-6) var(--space-16);
  }
}

/* TOC Sidebar */
.tocSidebar {
  display: none;
}

@media (min-width: 1024px) {
  .tocSidebar {
    display: block;
    order: 2;
  }

  .tocSidebar > nav {
    position: sticky;
    top: 100px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
    padding: var(--space-4);
    background: var(--color-gray-50);
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-gray-200);
  }
}

/* Main Content Container */
.page {
  max-width: 800px;
  order: 1;
}

/* Hero */
.hero {
  text-align: center;
  margin-bottom: var(--space-12);
}

.breadcrumb {
  display: flex;
  justify-content: center;
  gap: var(--space-2);
  margin-bottom: var(--space-6);
  font-size: 0.875rem;
  color: var(--color-gray-500);
}

.breadcrumb a {
  color: var(--color-gray-600);
  text-decoration: none;
}

.breadcrumb a:hover {
  color: var(--color-primary-600);
  text-decoration: underline;
}

.title {
  font-family: var(--font-heading);
  font-size: 3rem;
  font-weight: 800;
  margin: 0 0 var(--space-4);
  color: var(--color-gray-900);
  letter-spacing: -0.02em;
}

.subtitle {
  font-size: 1.25rem;
  color: var(--color-gray-600);
  margin: 0 0 var(--space-8);
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}

.heroIllustration {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: var(--space-6) var(--space-4);
  background: linear-gradient(135deg, var(--color-gray-50) 0%, var(--color-primary-50) 100%);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
}

.moleculeIcon {
  width: 100%;
  max-width: 300px;
  height: auto;
}

.heroCaption {
  margin: var(--space-4) 0 0;
  font-size: 0.75rem;
  color: var(--color-gray-500);
  font-style: italic;
}

/* Content */
.content {
  line-height: 1.8;
  color: var(--color-gray-700);
}

.section {
  margin-bottom: var(--space-12);
  scroll-margin-top: 100px;
}

.section h2 {
  font-family: var(--font-heading);
  font-size: 1.75rem;
  font-weight: 700;
  color: var(--color-gray-900);
  margin: 0 0 var(--space-4);
  padding-bottom: var(--space-2);
  border-bottom: 2px solid var(--color-primary-200);
}

.section h3,
.subheading {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-gray-800);
  margin: var(--space-6) 0 var(--space-3);
}

.section p {
  margin: 0 0 var(--space-4);
  font-size: 1.0625rem;
}

.intro {
  font-size: 1.25rem !important;
  line-height: 1.7;
}

/* Property List (Basics section) */
.propertyList {
  list-style: none;
  padding: 0;
  margin: var(--space-4) 0;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: var(--space-2);
}

.propertyList li {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
  font-size: 0.9375rem;
}

.propertyIcon {
  font-size: 1.25rem;
}

/* Product Grid (Where Found section) */
.productGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-4);
  margin: var(--space-6) 0;
}

.productCategory {
  padding: var(--space-4);
  background: white;
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
}

.productCategory h3 {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-gray-900);
  margin: 0 0 var(--space-3);
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--color-gray-100);
}

.productList {
  list-style: none;
  padding: 0;
  margin: 0;
}

.productList li {
  padding: var(--space-2) 0;
  font-size: 0.9375rem;
  color: var(--color-gray-700);
  border-bottom: 1px solid var(--color-gray-100);
}

.productList li:last-child {
  border-bottom: none;
}

/* Timeline (History section) */
.timeline {
  position: relative;
  margin: var(--space-6) 0;
  padding-left: var(--space-6);
}

.timeline::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(180deg, var(--color-primary-400), var(--color-primary-200));
}

.timelineItem {
  position: relative;
  padding-bottom: var(--space-6);
  padding-left: var(--space-4);
}

.timelineItem::before {
  content: '';
  position: absolute;
  left: calc(-1 * var(--space-6) - 6px);
  top: 0;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: var(--color-primary-500);
  border: 3px solid white;
  box-shadow: 0 0 0 2px var(--color-primary-200);
}

.timelineItemLast {
  padding-bottom: 0;
}

.timelineYear {
  display: inline-block;
  font-size: 0.8125rem;
  font-weight: 700;
  color: var(--color-primary-700);
  background: var(--color-primary-50);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  margin-bottom: var(--space-1);
}

.timelineContent {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-gray-200);
}

.timelineTitle {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-gray-900);
  margin: 0 0 var(--space-1);
}

.timelineDesc {
  font-size: 0.875rem;
  color: var(--color-gray-600);
  margin: 0;
  line-height: 1.6;
}

/* Health Grid (Health Concerns section) */
.healthGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-4);
  margin: var(--space-6) 0;
}

.healthCategory {
  padding: var(--space-4);
  border-radius: var(--radius-lg);
}

.healthCategory:first-child {
  background: var(--color-red-50);
  border: 1px solid var(--color-red-200);
}

.healthCategory:last-child {
  background: var(--color-amber-50);
  border: 1px solid var(--color-amber-200);
}

.healthCategoryTitle {
  font-size: 0.9375rem;
  font-weight: 600;
  margin: 0 0 var(--space-3);
}

.healthCategory:first-child .healthCategoryTitle {
  color: var(--color-red-800);
}

.healthCategory:last-child .healthCategoryTitle {
  color: var(--color-amber-800);
}

.healthList {
  list-style: none;
  padding: 0;
  margin: 0;
}

.healthList li {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  padding: var(--space-2) 0;
  font-size: 0.9375rem;
  line-height: 1.5;
}

.healthBullet {
  color: var(--color-red-500);
  font-weight: bold;
  flex-shrink: 0;
}

.researchBullet {
  color: var(--color-amber-600);
  font-weight: bold;
  flex-shrink: 0;
}

/* Comparison Box (PFOA vs PFAS section) */
.comparisonBox {
  background: white;
  border: 2px solid var(--color-amber-300);
  border-radius: var(--radius-xl);
  overflow: hidden;
  margin: var(--space-6) 0;
}

.comparisonWarning {
  background: var(--color-amber-100);
  padding: var(--space-3);
  text-align: center;
  color: var(--color-amber-900);
  font-size: 1rem;
}

.comparisonGrid {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  padding: var(--space-4);
  gap: var(--space-3);
}

.comparisonItem {
  text-align: center;
  padding: var(--space-3);
}

.comparisonItem h3 {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--color-gray-900);
  margin: 0 0 var(--space-2);
}

.comparisonItem p {
  font-size: 0.875rem;
  color: var(--color-gray-600);
  margin: 0;
  line-height: 1.5;
}

.comparisonVs {
  font-size: 1.5rem;
  font-weight: 800;
  color: var(--color-gray-400);
}

.warningList {
  list-style: none;
  padding: 0;
  margin: var(--space-4) 0;
}

.warningList li {
  padding: var(--space-2) 0 var(--space-2) var(--space-4);
  border-left: 3px solid var(--color-amber-400);
  margin-bottom: var(--space-2);
  font-size: 0.9375rem;
}

/* Material Table */
.materialTable {
  overflow-x: auto;
  margin: var(--space-4) 0 var(--space-6);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-gray-200);
}

.materialTable table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9375rem;
}

.materialTable th,
.materialTable td {
  padding: var(--space-3) var(--space-4);
  text-align: left;
  border-bottom: 1px solid var(--color-gray-200);
}

.materialTable th {
  background: var(--color-gray-50);
  font-weight: 600;
  color: var(--color-gray-800);
}

.materialTable tr:last-child td {
  border-bottom: none;
}

.materialTable td:first-child {
  white-space: nowrap;
}

/* Material Grid */
.materialGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: var(--space-4);
  margin: var(--space-6) 0;
}

.materialCard {
  display: flex;
  flex-direction: column;
  padding: var(--space-4);
  background: white;
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  text-decoration: none;
  transition: all var(--transition-fast);
}

.materialCard:hover {
  border-color: var(--color-primary-300);
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.materialName {
  margin: 0 0 var(--space-2);
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-gray-900);
}

.materialDesc {
  margin: 0;
  font-size: 0.875rem;
  color: var(--color-gray-600);
  flex: 1;
}

.materialLink {
  margin-top: var(--space-3);
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-primary-600);
}

/* Last Updated */
.lastUpdated {
  font-size: 0.8125rem;
  color: var(--color-gray-500);
  font-style: italic;
  text-align: center;
  margin: var(--space-8) 0;
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-gray-200);
}

/* CTA */
.cta {
  text-align: center;
  padding: var(--space-10);
  background: linear-gradient(135deg, var(--color-primary-50), var(--color-green-50));
  border-radius: var(--radius-xl);
  margin-top: var(--space-8);
}

.cta h2 {
  font-size: 1.75rem;
  font-weight: 700;
  margin: 0 0 var(--space-3);
  color: var(--color-gray-900);
  border: none;
  padding: 0;
}

.cta p {
  margin: 0 0 var(--space-6);
  color: var(--color-gray-600);
}

.ctaButtons {
  display: flex;
  justify-content: center;
  gap: var(--space-4);
  flex-wrap: wrap;
}

/* Responsive */
@media (max-width: 768px) {
  .title {
    font-size: 2rem;
  }

  .subtitle {
    font-size: 1rem;
  }

  .section h2 {
    font-size: 1.5rem;
  }

  .intro {
    font-size: 1.0625rem !important;
  }

  .propertyList {
    grid-template-columns: repeat(2, 1fr);
  }

  .productGrid,
  .healthGrid {
    grid-template-columns: 1fr;
  }

  .comparisonGrid {
    grid-template-columns: 1fr;
    text-align: center;
  }

  .comparisonVs {
    display: none;
  }

  .comparisonItem {
    padding: var(--space-2);
    border-bottom: 1px solid var(--color-gray-200);
  }

  .comparisonItem:last-child {
    border-bottom: none;
  }

  .materialGrid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 480px) {
  .pageLayout {
    padding: var(--space-4) var(--space-3) var(--space-12);
  }

  .propertyList,
  .materialGrid {
    grid-template-columns: 1fr;
  }

  .timeline {
    padding-left: var(--space-4);
  }

  .timelineItem {
    padding-left: var(--space-2);
  }

  .timelineItem::before {
    left: calc(-1 * var(--space-4) - 4px);
    width: 10px;
    height: 10px;
  }

  .cta {
    padding: var(--space-6);
  }

  .ctaButtons {
    flex-direction: column;
    align-items: center;
  }
}

/* Print styles */
@media print {
  .pageLayout {
    display: block;
  }

  .tocSidebar {
    display: none;
  }

  .page {
    max-width: none;
  }

  .hero {
    text-align: left;
  }

  .breadcrumb {
    display: none;
  }

  .heroIllustration {
    background: none;
    border: 1px solid var(--color-gray-400);
  }

  .section {
    page-break-inside: avoid;
  }

  .cta {
    background: none;
    border: 2px solid var(--color-gray-400);
  }

  .materialCard {
    border: 1px solid var(--color-gray-400);
    box-shadow: none;
  }

  .materialCard:hover {
    transform: none;
  }
}
