# Task: Improve Integration Selection UX in Export Command

**Priority:** P2 (Medium)
**Assigned To:** CLI Agent
**Created:** 2025-12-23 06:00
**Quality Score:** 8.0/10

---

## Context

The Template Agent's quality audit notes that only the saas template has bundled integrations, and the Integration Agent has documented 9 integrations across 6 categories. The CLI export command could provide better UX for discovering and selecting integrations.

## Vision Alignment

- **Developer-Centric**: Make integration selection intuitive
- **Transparency**: Show what integrations are available and what they do
- **Zero Lock-In**: All integrations work locally after export

## Task Objectives

### 1. Add `--list-integrations` Flag

Add a flag to list available integrations for a template:

```bash
framework export saas --list-integrations
```

Output:
```
Available integrations for saas template:

AUTH
  supabase    Supabase Authentication (email, OAuth, magic link)
  clerk       Clerk Authentication (modern auth with UI components)

DATABASE
  supabase    Supabase PostgreSQL (real-time, row-level security)

PAYMENTS
  stripe      Stripe Payments (subscriptions, one-time, metered billing)

ANALYTICS
  posthog     PostHog Analytics (product analytics, feature flags)

EMAIL
  resend      Resend Email (transactional emails with React templates)

Use: framework export saas ./myapp --auth supabase --db supabase
```

### 2. Add Interactive Mode (Optional)

If no integrations specified and TTY available, prompt interactively:

```bash
framework export saas ./myapp

? Select auth provider: (Use arrow keys)
❯ supabase - Supabase Authentication
  clerk - Clerk Authentication
  none - Skip auth integration

? Select database: (Use arrow keys)
❯ supabase - Supabase PostgreSQL
  none - Skip database integration
```

### 3. Add `--preset` Flag

Common integration combos as presets:

```bash
framework export saas ./myapp --preset full
# Equivalent to: --auth supabase --db supabase --payments stripe --analytics posthog --email resend

framework export saas ./myapp --preset minimal
# Equivalent to: --auth supabase --db supabase
```

### 4. Implementation Location

File: `src/commands/export.mjs`

Add new functions:
- `listIntegrations(templateName)` - Display available integrations
- `selectIntegrationsInteractive(templateName)` - Interactive prompts
- `resolvePreset(presetName)` - Expand preset to full integration list

### 5. Help Text Update

Update `--help` output for export command to document new options.

## Success Criteria

- [ ] `--list-integrations` flag works for all templates
- [ ] Output is formatted nicely with descriptions
- [ ] Existing CLI behavior unchanged without new flags
- [ ] All tests pass
- [ ] Help text updated

## Nice to Have (Not Required)

- Interactive mode with inquirer prompts
- Preset system for common combos
- Validation that selected integrations are compatible

## Reference

- `src/dd/integrations.mjs` - Integration loading functions
- `templates/saas/integrations/` - Available integrations
- `docs/cli/export.md` - Current export documentation

## Handoff

When complete:
1. Move this file to `output/cli-agent/done/`
2. Update `docs/cli/export.md` with new options
3. Run `npm test` to verify
4. Commit: `feat(cli): add --list-integrations flag to export command`

---

*Read and execute this task. Follow governance in AGENT_CONTEXT.md.*


