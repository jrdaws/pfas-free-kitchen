TASK: Scaffold Integrations Even Without Env Vars Filled
========================================================

AGENT: CLI Agent
PRIORITY: P1 - HIGH
DATE: 2025-12-24
FROM: Auditor Agent (User Feedback)

---

## USER FEEDBACK

"I selected integrations but did not fill out fields - Export Missing Integrations"

User selected 7 integrations (auth, payments, email, db, ai, analytics, storage) but the output folder has no `integrations/` directory.

## EXPECTED BEHAVIOR

When user selects integrations in the configurator:

1. **Integration folders should ALWAYS be scaffolded** (regardless of env vars)
2. **Env vars are optional** - user can add them later
3. **Placeholder comments** should show where env vars go

## CURRENT vs EXPECTED

### Current Output
```
mytestproject07/
├── app/
│   ├── page.tsx
│   └── layout.tsx
└── package.json
```

### Expected Output
```
mytestproject07/
├── app/
├── integrations/
│   ├── auth/
│   │   └── supabase/
│   │       ├── client.ts
│   │       └── middleware.ts
│   ├── payments/
│   │   └── stripe/
│   │       ├── client.ts
│   │       └── webhook.ts
│   ├── email/
│   │   └── resend/
│   │       └── client.ts
│   ├── db/
│   │   └── supabase/
│   │       └── client.ts
│   ├── ai/
│   │   └── openai/
│   │       └── client.ts
│   ├── analytics/
│   │   └── posthog/
│   │       └── client.ts
│   └── storage/
│       └── r2/
│           └── client.ts
├── .env.example          # With all required vars listed
└── package.json          # With integration dependencies
```

## IMPLEMENTATION

### 1. Always Copy Integration Folders

```javascript
// In export command
for (const [type, provider] of Object.entries(selectedIntegrations)) {
  const srcPath = `templates/${template}/integrations/${type}/${provider}`;
  const destPath = `${outputDir}/integrations/${type}/${provider}`;
  
  // Copy even if env vars not filled
  copyDir(srcPath, destPath);
}
```

### 2. Generate .env.example

```javascript
// Generate .env.example with all required vars
const envExample = selectedIntegrations.map(int => 
  int.requiredEnvVars.map(v => `${v}=your_value_here`).join('\n')
).join('\n\n');

writeFile(`${outputDir}/.env.example`, envExample);
```

### 3. Show Warning, Don't Block

```javascript
// Warn but don't block export
if (missingEnvVars.length > 0) {
  console.warn(`⚠️ Some env vars not configured. Add them to .env.local later.`);
}
```

## VERIFICATION

1. Select integrations in configurator
2. Skip env vars step (or fill partially)
3. Export project
4. Verify `integrations/` folder exists with all selected providers
5. Verify `.env.example` lists all required vars

---

(AUD Agent)

