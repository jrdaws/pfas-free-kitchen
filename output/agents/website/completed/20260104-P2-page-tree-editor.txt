TASK: Implement Page Tree Editor UI
PRIORITY: P2 (After Dashboard)
TYPE: Frontend / React / UI
REFERENCE: output/shared/design/PLATFORM_ARCHITECTURE_RESEARCH.md Part B
DEPENDS_ON: Project Dashboard UI, Data Model

---

## Objective

Create the page tree editor where users can design their app's page structure.

## Deliverables

### 1. Page Editor Layout

Create `/app/projects/[id]/pages/page.tsx`:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—€ Back to Dashboard        Project: My SaaS        [Preview]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PAGES            â”‚  PAGE SETTINGS                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                                           â”‚
â”‚ ğŸ“„ / (Home)      â”‚  Title: [Home                    ]       â”‚
â”‚ ğŸ“„ /pricing      â”‚  Path:  [/                       ]       â”‚
â”‚ ğŸ“„ /about        â”‚  Type:  (â—) Page  ( ) Layout  ( ) API    â”‚
â”‚ ğŸ“ /dashboard ğŸ”’ â”‚                                           â”‚
â”‚   ğŸ“„ /settings   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚   ğŸ“„ /billing    â”‚  COMPONENTS                               â”‚
â”‚ ğŸ“„ /blog         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   ğŸ“„ /[slug] ğŸ”·  â”‚  â”‚ ğŸ”— Header (shared)              â”‚     â”‚
â”‚                  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚ [+ Add Page]     â”‚  â”‚ ğŸ¤– Hero Section                 â”‚     â”‚
â”‚                  â”‚  â”‚    [Prompt input...]            â”‚     â”‚
â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Components to Create

```
website/app/components/page-editor/
â”œâ”€â”€ PageTree.tsx           # Collapsible tree sidebar
â”œâ”€â”€ PageTreeItem.tsx       # Individual tree node
â”œâ”€â”€ PageSettings.tsx       # Right panel settings form
â”œâ”€â”€ ComponentSlots.tsx     # Component slot list
â”œâ”€â”€ ComponentSlot.tsx      # Individual slot (shared/AI/static)
â”œâ”€â”€ AddPageModal.tsx       # Create new page modal
â””â”€â”€ RouteTypeBadge.tsx     # Dynamic, Catch-all, API badges
```

### 3. Page Tree Features

- Drag-and-drop reordering
- Nested pages (parent/child)
- Visual indicators:
  - ğŸ”’ Protected (auth required)
  - ğŸ”· Dynamic route ([id])
  - ğŸŸ£ Catch-all ([...slug])
  - âš¡ API route
- Add page button
- Delete page (with confirmation)
- Rename inline

### 4. Page Settings Panel

When a page is selected, show:
- Title input
- Path input (auto-slugify)
- Route type selector (Page, Layout, API)
- Auth required toggle
- SEO fields (title, description)
- Component slots list

### 5. Component Slots

Display list of slots:
- ğŸ”— Shared (inherited from layout)
- ğŸ¤– AI Generate (with prompt input)
- ğŸ“ Static (pre-built component selector)

## Technical Requirements

- Use existing tree component or build with headless UI
- Optimistic updates for reordering
- Debounced auto-save for settings
- Keyboard navigation (up/down arrows)

## Success Criteria

- [ ] Tree displays page hierarchy
- [ ] Can add/remove/reorder pages
- [ ] Settings panel shows on selection
- [ ] Component slots display correctly
- [ ] Route badges show correctly
- [ ] Mobile-responsive (collapse tree)

## NOT in Scope

- Actual page preview/generation
- Component slot content editing
- Graph view (future feature)

