ADVANCED TASK: Media Pipeline GUI Integration & End-to-End Testing
===================================================================

AGENT: Website Agent (with Testing Agent collaboration)
PRIORITY: P1 - HIGH
DATE: 2025-12-23

OBJECTIVE:
----------
Test the complete Media Generation Pipeline end-to-end using the dawson-does-framework 
localhost website, then design and implement a GUI interface that allows users to 
generate photorealistic images for their projects following our established SOPs.


PHASE 1: UNDERSTAND THE CURRENT SYSTEM
--------------------------------------

Read these files to understand the media pipeline:

```bash
# Pipeline overview
cat output/media-pipeline/MEDIA_PIPELINE.md

# Agent SOPs
cat prompts/agents/roles/media-pipeline/RESEARCH_AGENT.md
cat prompts/agents/roles/media-pipeline/MEDIA_AGENT.md
cat prompts/agents/roles/media-pipeline/QUALITY_AGENT.md

# Photorealistic prompt engineering
cat output/media-pipeline/shared/PHOTOREALISTIC_PROMPT_GUIDE.md

# Existing test checklist
cat output/testing-agent/outbox/MEDIA_PIPELINE_TEST_CHECKLIST.md
```


PHASE 2: START THE LOCALHOST WEBSITE
------------------------------------

```bash
cd /Users/joseph.dawson/Documents/dawson-does-framework/website
npm run dev
```

Open: http://localhost:3000

Explore the current configurator interface to understand:
- How users configure their projects
- Where media/image selection would fit in the flow
- Current design patterns and component library used


PHASE 3: END-TO-END PIPELINE TEST
---------------------------------

Execute a manual test of the complete pipeline:

### Step 1: Create Test Project Request
```bash
cat > output/media-pipeline/research-agent/inbox/test-saas-project.txt << 'EOF'
PROJECT: Test SaaS Dashboard
TYPE: SaaS Application
STYLE: Modern, minimal, professional
ASSET TARGET: TEMPLATE
TEMPLATE NAME: saas
COLORS: Use design tokens from templates/saas/design/tokens.json

NEEDED ASSETS:
- 1 Hero image (landing page)
- 3 Feature icons
- 1 Empty state illustration
- 1 Team collaboration photo
EOF
```

### Step 2: Execute Research Agent
Activate Research Agent to create asset brief:
```
Read prompts/agents/roles/media-pipeline/RESEARCH_AGENT.md and create an asset brief for the test project in your inbox.
```

### Step 3: Execute Media Agent  
Activate Media Agent to generate assets:
```
Read prompts/agents/roles/media-pipeline/MEDIA_AGENT.md and generate assets from the brief in your inbox.
```

### Step 4: Execute Quality Agent
Activate Quality Agent to review:
```
Read prompts/agents/roles/media-pipeline/QUALITY_AGENT.md and review the assets waiting in your inbox.
```

### Step 5: Verify Integration
Check that approved assets reach Template Agent inbox:
```bash
ls -la output/template-agent/inbox/media-*/
```


PHASE 4: GUI REQUIREMENTS ANALYSIS
----------------------------------

Based on the SOPs, the GUI needs to support:

### 4.1 Project Configuration (Research Agent equivalent)
□ App type selector (SaaS, E-commerce, Landing, Blog, Mobile)
□ Brand style picker (Modern, Minimal, Playful, Corporate, etc.)
□ Color palette input (manual or from design tokens)
□ Target audience description
□ Asset type checklist:
  □ Hero images
  □ Feature icons
  □ Illustrations
  □ Team photos
  □ Backgrounds

### 4.2 Prompt Engineering Interface (Research Agent)
□ Auto-generate prompts based on selections
□ Preview prompts before generation
□ Edit/refine prompts manually
□ Apply photorealistic formula automatically:
  - Camera model selector
  - Lens specification
  - Lighting type
  - Photography style
□ Auto-include negative prompts

### 4.3 Generation Interface (Media Agent equivalent)
□ Provider selector (Stable Diffusion API, DALL-E, Local)
□ Cost estimation display
□ Generation progress indicator
□ Preview thumbnails
□ Iteration controls (regenerate, vary)
□ Batch generation support

### 4.4 Quality Review Interface (Quality Agent equivalent)
□ Side-by-side comparison view
□ Scoring interface (Visual/Brand/Technical)
□ Photorealism checklist
□ Approve/Reject/Revise buttons
□ Feedback notes input
□ Iteration history

### 4.5 Integration Interface
□ Preview assets in context
□ Download approved assets
□ Auto-place in project structure
□ Update component references


PHASE 5: GUI DESIGN PROPOSAL
----------------------------

Create wireframes/mockups for the Media Studio interface:

### Proposed Navigation Structure
```
Website Configurator
├── Project Setup (existing)
├── Features (existing)
├── Integrations (existing)
├── Media Studio (NEW)  ← Add this section
│   ├── Asset Planner
│   ├── Prompt Builder
│   ├── Generation Queue
│   ├── Review Gallery
│   └── Asset Library
└── Export (existing)
```

### Key Components to Create

1. **AssetPlannerForm.tsx**
   - App type and style selection
   - Asset category checkboxes
   - Auto-suggest based on template

2. **PromptBuilder.tsx**
   - Visual prompt composer
   - Camera/lens/lighting selectors
   - Negative prompt auto-include
   - Preview panel

3. **GenerationQueue.tsx**
   - Provider selection
   - Cost estimate
   - Progress tracking
   - Batch controls

4. **ReviewGallery.tsx**
   - Grid/list view toggle
   - Scoring interface
   - Comparison mode
   - Approval workflow

5. **AssetLibrary.tsx**
   - Approved assets browser
   - Category filters
   - Download/integrate buttons


PHASE 6: IMPLEMENTATION PLAN
----------------------------

### 6.1 Backend Requirements

Create API routes for:

```typescript
// website/app/api/media/
├── generate/route.ts      // Trigger image generation
├── status/route.ts        // Check generation status
├── review/route.ts        // Submit review scores
├── approve/route.ts       // Approve assets
└── library/route.ts       // List approved assets
```

### 6.2 Integration with AI Agent Package

```typescript
// Use existing ai-agent package
import { generateMediaAssets } from '@dawson-does/ai-agent';

// Future API (to be implemented)
const assets = await generateMediaAssets({
  projectName: 'My SaaS',
  appType: 'saas-dashboard',
  style: 'modern-minimal',
  designTokens: './templates/saas/design/tokens.json',
  provider: 'stable-diffusion', // or 'dall-e'
});
```

### 6.3 Environment Variables Needed

```env
# Add to website/.env.local
STABILITY_API_KEY=sk-...     # Stable Diffusion API
OPENAI_API_KEY=sk-...        # DALL-E (optional)
```


PHASE 7: TESTING REQUIREMENTS
-----------------------------

□ Unit tests for prompt generation logic
□ API route tests for all endpoints
□ E2E test for complete pipeline flow
□ Visual regression tests for gallery components
□ Cost calculation accuracy tests
□ Photorealism checklist validation tests


DELIVERABLES:
-------------

1. **Test Report**
   - `output/website-agent/outbox/media-pipeline-test-report.txt`
   - Document all test results
   - Note any issues found

2. **GUI Design Document**
   - `output/website-agent/outbox/media-studio-design.md`
   - Wireframes or component specs
   - User flow diagrams
   - Component list with props

3. **Implementation Plan**
   - `output/website-agent/outbox/media-studio-implementation.md`
   - Phased rollout plan
   - API specifications
   - Integration points

4. **Prototype Components** (if time permits)
   - Create initial React components
   - Follow existing website patterns
   - Use existing design system


SUCCESS CRITERIA:
-----------------

□ Successfully executed end-to-end pipeline test
□ All pipeline steps documented and verified
□ GUI requirements fully specified
□ Wireframes/mockups for Media Studio section
□ API route specifications complete
□ Implementation plan with phases and estimates
□ Identified all integration points with existing code


COLLABORATION NOTES:
--------------------

This task may require handoff to:
- **Testing Agent**: For comprehensive test suite creation
- **Platform Agent**: For API implementation
- **Template Agent**: For asset integration testing
- **Documentation Agent**: For user guide creation


HANDOFF INSTRUCTIONS:
---------------------

When complete:
1. Move this file to: output/website-agent/done/
2. Create deliverables in: output/website-agent/outbox/
3. If implementation needed, create task for Platform Agent
4. Update COMPLETE_SETUP_GUIDE.md if new features added


ACTIVATION COMMAND FOR TESTING AGENT:
-------------------------------------

After GUI design is complete:

"Read output/website-agent/outbox/media-studio-design.md and create comprehensive test specifications for the Media Studio feature, including unit tests, integration tests, and E2E tests."
