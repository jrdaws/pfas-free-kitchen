# TASK: Strip Framework to MVP Scope

**Priority**: P0 - CRITICAL
**Assigned To**: Website Agent
**Dependencies**: None
**Estimated Effort**: 6 hours

---

## Objective

Remove non-MVP features, integrations, and complexity to enable faster shipping of a working framework MVP.

---

## Reference

Read first: `output/shared/research/CODEBASE-BLOAT-AUDIT-REPORT.md`

---

## Part 1: Remove Non-MVP Integrations

### Keep (4 core)
- `packages/templates/integrations/auth/supabase/`
- `packages/templates/integrations/payments/stripe/`
- `packages/templates/integrations/email/resend/`
- `packages/templates/integrations/analytics/posthog/`

### Move to Future (14 providers)

```bash
mkdir -p packages/templates/integrations-future

# Move non-MVP integrations
mv packages/templates/integrations/auth/clerk packages/templates/integrations-future/
mv packages/templates/integrations/auth/nextauth packages/templates/integrations-future/
mv packages/templates/integrations/payments/paddle packages/templates/integrations-future/
mv packages/templates/integrations/payments/lemonsqueezy packages/templates/integrations-future/
mv packages/templates/integrations/email/sendgrid packages/templates/integrations-future/
mv packages/templates/integrations/email/postmark packages/templates/integrations-future/
mv packages/templates/integrations/analytics/plausible packages/templates/integrations-future/
mv packages/templates/integrations/ai packages/templates/integrations-future/
mv packages/templates/integrations/storage packages/templates/integrations-future/
mv packages/templates/integrations/search packages/templates/integrations-future/
mv packages/templates/integrations/cms packages/templates/integrations-future/
mv packages/templates/integrations/monitoring packages/templates/integrations-future/
mv packages/templates/integrations/backgroundJobs packages/templates/integrations-future/
mv packages/templates/integrations/notifications packages/templates/integrations-future/
mv packages/templates/integrations/featureFlags packages/templates/integrations-future/
mv packages/templates/integrations/imageOpt packages/templates/integrations-future/
```

### Update Configurator

In `website/lib/configurator-state.ts`, update integration options to only show MVP providers.

---

## Part 2: Simplify Features

### Current: 19 features across 5 categories
### Target: 5 core features

**Keep:**
1. `email-registration`
2. `social-login`
3. `admin-dashboard`
4. `shopping-cart` (only for e-commerce template)
5. `checkout-flow` (only for e-commerce template)

**Remove from core (move to template-specific):**
- All "Product Database" features (nutritional-info, price-tracking, etc.)
- All "Analytics" features (defer to PostHog integration)
- All niche features

### Update `website/lib/features.ts`

```typescript
// Before: 19 features
// After: 5 core features

export const FEATURES: Feature[] = [
  // User Management - KEEP
  { id: "email-registration", ... },
  { id: "social-login", ... },
  { id: "admin-dashboard", ... },
  
  // E-commerce - KEEP (template-specific)
  { id: "shopping-cart", ... },
  { id: "checkout-flow", ... },
  
  // REMOVE ALL OTHERS
];
```

---

## Part 3: Simplify Configurator Steps

### Current: 10 steps
### Target: 5 steps

**Keep:**
1. Template Selection (Step 1)
2. Integrations (Step 4 → becomes Step 2)
3. Project Setup (Step 5 → becomes Step 3)
4. Export Method (new simplified step)
5. Download/Deploy (Step 10 → becomes Step 5)

**Remove/Defer:**
- Step 2: Research/Inspiration (AI-heavy, complex)
- Step 3: Core Features (simplify to auto-include based on template)
- Step 4: AI Integration (defer)
- Step 6: Cursor Setup (defer)
- Step 7: GitHub Setup (defer)
- Step 8: Supabase Setup (defer)
- Step 9: Vercel Setup (defer)

### Update `website/app/configure/page.tsx`

1. Reduce step enum from 10 to 5
2. Remove unused step components
3. Simplify navigation

---

## Part 4: Remove Duplicate/Unused Systems

### Identify what to consolidate:

| Keep | Remove | Reason |
|------|--------|--------|
| `lib/generator/` | `lib/composer/` | Generator is more complete |
| `lib/preview/session-store.ts` | `lib/ai/preview-generator.ts` | Use session-based preview |
| New pattern system | Old feature templates | Patterns are the future |

### Files to potentially remove:

- `lib/composer/` directory (if not used)
- Unused preview components
- Legacy feature template code

**IMPORTANT:** Before removing, verify no imports exist:
```bash
grep -r "lib/composer" website/
grep -r "preview-generator" website/
```

---

## Part 5: Clean Up configure/page.tsx

Current: 1,092 lines
Target: ~300 lines

### Split into components:

```
website/app/configure/
├── page.tsx              # Main page (~100 lines)
├── components/
│   ├── TemplateStep.tsx  # Step 1
│   ├── IntegrationsStep.tsx # Step 2
│   ├── ProjectStep.tsx   # Step 3
│   ├── ExportStep.tsx    # Step 4-5
│   └── StepNavigation.tsx # Shared nav
├── hooks/
│   ├── useConfiguratorState.ts
│   └── useExport.ts
└── types.ts
```

---

## Success Criteria

- [ ] Only 4 integration providers visible in configurator
- [ ] Only 5 features defined in core
- [ ] Configurator has 5 steps, not 10
- [ ] `configure/page.tsx` is <400 lines
- [ ] Website builds without errors: `npm run build`
- [ ] Export still works for SaaS template with Supabase + Stripe

---

## Testing

After changes, verify:

```bash
cd /Users/joseph.dawson/Documents/dawson-does-framework/website
npm run build
npm run dev
# Test export flow manually
```

---

## Handoff

When complete:
1. Update `prompts/agents/memory/WEBSITE_MEMORY.md`
2. Create `output/agents/website/outbox/mvp-strip-complete.txt`
3. Notify Quality Agent for testing

---

*Created by Documentation Agent*

