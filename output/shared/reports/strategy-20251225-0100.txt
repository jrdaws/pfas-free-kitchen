# Strategy Report

Cycle: 11
Date: 2025-12-25 01:00
Strategist: STRATEGIST Agent
Responding to: audit-20251225-0001.txt

---

## Strategic Priorities

Based on Auditor's findings (Cycle 10: 56 commits, 732 tests passing), this cycle focuses on:

1. **Commit & Stabilize**: Commit 3 uncommitted files to preserve work and maintain clean state
2. **Complete Testing Gap**: Finish configurator-accordion.spec.ts and run all UI tests to validate accordion sidebar
3. **Connect Services Frontend**: Backend routes for connected services are ready - build the UI

---

## Task Matrix

| ID | Task | Agent | Priority | Effort | Depends On |
|----|------|-------|----------|--------|------------|
| T1 | Commit Uncommitted Work | CLI | P1 | Low | None |
| T2 | Complete Accordion UI Tests | Testing | P1 | Med | T1 |
| T3 | Connected Services UI | Website | P2 | High | None |
| T4 | Test Supabase OAuth E2E | Testing | P2 | Med | None |
| T5 | Create CODING_STANDARDS.md | Documentation | P3 | Low | None |
| T6 | Create Deployment Guides | Documentation | P3 | Med | None |

---

## Resource Allocation

### CLI Agent
- T1: Commit Uncommitted Work (P1, Low, 10 min)

### Website Agent
- T3: Connected Services UI (P2, High, 2-3 hours)

### Testing Agent
- T2: Complete Accordion UI Tests (P1, Med, 1 hour)
- T4: Test Supabase OAuth E2E (P2, Med, 1 hour)

### Documentation Agent
- T5: Create CODING_STANDARDS.md (P3, Low, 30 min)
- T6: Create Deployment Guides (P3, Med, 1 hour)

### Platform Agent
- No tasks this cycle (OAuth work complete, await frontend integration)

### Template Agent
- No tasks this cycle (feature-assembler complete)

### Integration Agent
- No tasks this cycle (UploadThing E2E added, await connected services UI)

---

## Dependencies Map

```
T1 (Commit) ──────▶ T2 (UI Tests)
                        │
                        ▼
                    [Validates accordion sidebar]

T3 (Connected Services UI)
        │
        └──────────▶ [Enables T4 full flow testing]

T4 (OAuth E2E) ◀────── T3

T5, T6 (Documentation) ◀── [No dependencies, parallel work]
```

---

## Risk Assessment

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| Accordion tests fail on viewport sizes | Medium | Medium | Use Playwright viewport testing, fix responsive issues |
| Connected services API mismatch | Low | Medium | Review API routes in src/platform before UI work |
| Missing Vercel env vars | Low | Low | Document required vars in deployment guides |

---

## Draft Task Prompts

### T1: Commit Uncommitted Work

```
# Task: Commit Uncommitted Work

Priority: P1
Assigned To: CLI Agent
Depends On: None
Estimated Effort: Low (10 minutes)

## Context
Auditor identified 3 uncommitted files that need to be committed to preserve work from Cycle 10:
- FRAMEWORK_MAP.md (modified)
- tests/integration-tests/uploadthing-e2e.test.mjs (modified)
- website/tests/configurator-accordion.spec.ts (new)

## Objectives
1. Review the uncommitted changes for correctness
2. Stage and commit with appropriate message
3. Push to origin/main

## Success Criteria
- [ ] All 3 files committed
- [ ] Commit pushed to origin/main
- [ ] `git status` shows clean working directory

## Files to Modify
- No modifications needed, just commit existing changes

## Commands
git add FRAMEWORK_MAP.md tests/integration-tests/uploadthing-e2e.test.mjs website/tests/configurator-accordion.spec.ts
git commit -m "chore: commit pending work from cycle 10"
git push origin main

## Handoff
1. Verify push succeeded
2. Report completion to outbox/
3. Testing Agent can proceed with T2
```

### T2: Complete Accordion UI Tests

```
# Task: Complete Accordion UI Tests

Priority: P1
Assigned To: Testing Agent
Depends On: T1 (Commit Uncommitted Work)
Estimated Effort: Medium (1 hour)

## Context
The accordion sidebar was implemented in Cycle 10 but the Playwright test file (configurator-accordion.spec.ts) is incomplete. Need to finish tests and run them to validate the UI works across all viewport sizes.

## Objectives
1. Review existing configurator-accordion.spec.ts
2. Add tests for:
   - Accordion expand/collapse functionality
   - Section content rendering
   - Mobile sidebar accordion behavior
   - Keyboard navigation
3. Run tests and fix any failures

## Success Criteria
- [ ] configurator-accordion.spec.ts has 5+ test cases
- [ ] All tests pass on desktop viewport (1280x720)
- [ ] All tests pass on mobile viewport (375x667)
- [ ] Test results documented

## Files to Modify
- website/tests/configurator-accordion.spec.ts

## Commands
cd website
npx playwright test configurator-accordion.spec.ts --project=chromium

## Handoff
1. Move task to done/
2. Report test results to outbox/
3. Update TESTING_MEMORY.md with test coverage notes
```

### T3: Connected Services UI

```
# Task: Connected Services UI

Priority: P2
Assigned To: Website Agent
Depends On: None
Estimated Effort: High (2-3 hours)

## Context
Cycle 10 completed the backend for connected services (OAuth routes, database schema). Now need to build the frontend components to allow users to connect external accounts (GitHub, Vercel, etc.).

## Objectives
1. Create ConnectedServicesPanel component in accordion sidebar
2. Add UI to show connected accounts status
3. Implement connect/disconnect buttons
4. Wire to existing API routes

## Success Criteria
- [ ] ConnectedServicesPanel component created
- [ ] Shows list of available services (GitHub, Vercel, Supabase)
- [ ] Connect button initiates OAuth flow
- [ ] Disconnect button calls API and updates UI
- [ ] Component integrated in accordion sidebar

## Files to Modify
- website/components/configurator/ConnectedServicesPanel.tsx (new)
- website/app/components/configurator/sections/ (update to include panel)
- website/lib/api.ts (add connected services hooks if needed)

## API Routes (already exist)
- GET /api/auth/connected-services
- POST /api/auth/connect/[provider]
- DELETE /api/auth/disconnect/[provider]

## Handoff
1. Move task to done/
2. Report completion to outbox/
3. Integration Agent can test full OAuth flow
4. Update WEBSITE_MEMORY.md
```

### T4: Test Supabase OAuth E2E

```
# Task: Test Supabase OAuth E2E

Priority: P2
Assigned To: Testing Agent
Depends On: T3 (Connected Services UI)
Estimated Effort: Medium (1 hour)

## Context
Supabase OAuth integration was completed in Cycle 10. Need to validate the full flow works end-to-end with real user interaction.

## Objectives
1. Create E2E test for Supabase OAuth flow
2. Test connect flow (redirect, callback, token storage)
3. Test disconnect flow (API call, UI update)
4. Document any issues found

## Success Criteria
- [ ] Playwright test for OAuth flow created
- [ ] Connect flow redirects to Supabase correctly
- [ ] Callback processes token and updates UI
- [ ] Disconnect removes connection from database
- [ ] Test passes or issues documented

## Files to Modify
- website/tests/supabase-oauth.spec.ts (new)

## Handoff
1. Move task to done/
2. Report test results to outbox/
3. Flag any OAuth issues to Platform Agent
```

### T5: Create CODING_STANDARDS.md

```
# Task: Create CODING_STANDARDS.md

Priority: P3
Assigned To: Documentation Agent
Depends On: None
Estimated Effort: Low (30 minutes)

## Context
CODING_STANDARDS.md is referenced in AGENT_CONTEXT.md but doesn't exist. This creates dead links and missing guidance for agents.

## Objectives
1. Create docs/standards/CODING_STANDARDS.md
2. Document existing conventions from AGENT_CONTEXT.md
3. Add examples for each language (JS/TS)

## Success Criteria
- [ ] docs/standards/CODING_STANDARDS.md exists
- [ ] Documents semicolon rules, indent style
- [ ] Includes naming conventions
- [ ] Has code examples
- [ ] Referenced files updated if needed

## Files to Modify
- docs/standards/CODING_STANDARDS.md (new)

## Content Outline
1. JavaScript (.mjs) conventions
2. TypeScript (.ts/.tsx) conventions
3. Naming conventions
4. Import ordering
5. Error handling patterns
6. Testing conventions

## Handoff
1. Move task to done/
2. Verify link from AGENT_CONTEXT.md works
3. Update DOCUMENTATION_MEMORY.md
```

### T6: Create Deployment Guides

```
# Task: Create Deployment Guides

Priority: P3
Assigned To: Documentation Agent
Depends On: None
Estimated Effort: Medium (1 hour)

## Context
Auditor identified missing deployment guides: vercel.md, netlify.md, railway.md are referenced but don't exist.

## Objectives
1. Create docs/deploy/vercel.md
2. Create docs/deploy/netlify.md
3. Create docs/deploy/railway.md
4. Document env vars required for each platform

## Success Criteria
- [ ] All 3 deployment guides created
- [ ] Each guide has step-by-step instructions
- [ ] Required env vars documented per platform
- [ ] Links from other docs work

## Files to Modify
- docs/deploy/vercel.md (new)
- docs/deploy/netlify.md (new)
- docs/deploy/railway.md (new)

## Handoff
1. Move task to done/
2. Update DOCUMENTATION_MEMORY.md
3. Update any referencing docs if needed
```

---

## Deferred Items

Tasks explicitly NOT included this cycle:
- **Velocity tracking automation** (P3): Nice to have but not critical for current work
- **User feedback collection** (P3): Needs connected services UI first
- **Chunked code generation** (P3): Platform enhancement, not blocking

---

## Quality Checklist

- [x] Read and incorporated Auditor's recommendations
- [x] Every task has clear success criteria
- [x] Tasks are appropriately sized (completable in <6 hours)
- [x] Dependencies are clearly stated
- [x] No agent is overloaded (max 2 tasks per agent)
- [x] P1 tasks address critical gaps (uncommitted work, testing gap)
- [x] Report follows template format

---

## Handoff

Report saved to: output/shared/reports/strategy-20251225-0100.txt
Draft prompts saved to: output/agents/strategist/outbox/drafts/
Next agent: CURATOR
Activation: Copy task prompts from drafts/ to appropriate agent inboxes

