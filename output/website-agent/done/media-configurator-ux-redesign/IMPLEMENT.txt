IMPLEMENTATION TASK: Configurator UX Redesign
==============================================

Source: Media Pipeline (Quality Approved - 100% Pass Rate)
Project: configurator-ux-redesign
Type: PROJECT ASSETS + COMPONENT UPDATE
Priority: P1 - HIGH
Date: 2025-12-23

---

APPROVAL STATUS
---------------
âœ… ALL 12 assets approved (99/100 overall score)
âœ… 100% Color Philosophy compliance
âœ… Ready for immediate implementation

---

APPROVED ASSETS (12)
--------------------

### Phase Icons (3)
- phase-setup-icon.svg (32x32) - Stacked layers
- phase-configure-icon.svg (32x32) - Adjustment sliders
- phase-launch-icon.svg (32x32) - Rocket

### Step Status Icons (4)
- step-completed.svg (24x24) - Emerald filled circle + checkmark
- step-current.svg (24x24) - Indigo concentric circles (animatable)
- step-pending.svg (24x24) - Gray outline circle
- step-locked.svg (24x24) - Padlock

### Connectors (2)
- stepper-connector-horizontal.svg (200x4) - Desktop progress line
- stepper-connector-vertical.svg (4x200) - Mobile progress line

### Feedback/Celebration (3)
- step-success-animation.svg (48x48) - Animated checkmark
- completion-confetti.svg (400x400) - Celebration particles
- export-success-graphic.webp (300x200) - Success illustration

---

IMPLEMENTATION OVERVIEW
-----------------------

Transform the current 8-step horizontal stepper into a 3-phase grouped experience.

### Current Structure (Replace)
```
1 â†’ 2 â†’ 3 â†’ 4 â†’ 5 â†’ 6 â†’ 7 â†’ 8
Template â†’ Inspiration â†’ Project â†’ Integrations â†’ Environment â†’ Preview â†’ Context â†’ Export
```

### New Structure (Implement)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚    â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‹                               â”‚
â”‚   Setup     Configure    Launch                             â”‚
â”‚   (1-3)      (4-5)       (6-8)                             â”‚
â”‚                                                             â”‚
â”‚   Current: Configure > Integrations (Step 4 of 8)          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

STEP 1: COPY ASSETS
-------------------

```bash
# Create destination folders
mkdir -p website/public/images/configurator/{phases,steps,connectors,feedback}

# Copy phase icons
cp phase-setup-icon.svg website/public/images/configurator/phases/
cp phase-configure-icon.svg website/public/images/configurator/phases/
cp phase-launch-icon.svg website/public/images/configurator/phases/

# Copy step status icons
cp step-*.svg website/public/images/configurator/steps/

# Copy connectors
cp stepper-connector-*.svg website/public/images/configurator/connectors/

# Copy feedback/celebration
cp completion-confetti.svg website/public/images/configurator/feedback/
cp export-success-graphic.webp website/public/images/configurator/feedback/
cp step-success-animation.svg website/public/images/configurator/feedback/
```

---

STEP 2: UPDATE STEP DEFINITIONS
-------------------------------

Update `website/lib/configurator-state.ts`:

```typescript
// Phase definitions (NEW)
export const PHASES = [
  {
    id: 'setup',
    label: 'Setup',
    description: 'Choose your foundation',
    icon: '/images/configurator/phases/phase-setup-icon.svg',
    steps: [1, 2, 3] // Template, Inspiration, Project
  },
  {
    id: 'configure',
    label: 'Configure',
    description: 'Set up integrations',
    icon: '/images/configurator/phases/phase-configure-icon.svg',
    steps: [4, 5] // Integrations, Environment
  },
  {
    id: 'launch',
    label: 'Launch',
    description: 'Preview and ship',
    icon: '/images/configurator/phases/phase-launch-icon.svg',
    steps: [6, 7, 8] // Preview, Context, Export
  }
] as const;

// Step definitions (UPDATE)
export const STEPS = [
  { number: 1, label: 'Template', phase: 'setup' },
  { number: 2, label: 'Inspiration', phase: 'setup' },
  { number: 3, label: 'Project', phase: 'setup' },
  { number: 4, label: 'Integrations', phase: 'configure' },
  { number: 5, label: 'Environment', phase: 'configure' },
  { number: 6, label: 'Preview', phase: 'launch' },
  { number: 7, label: 'Context', phase: 'launch' },
  { number: 8, label: 'Export', phase: 'launch' },
] as const;
```

---

STEP 3: CREATE PhaseIndicator COMPONENT
---------------------------------------

Create `website/app/components/configurator/PhaseIndicator.tsx`:

```tsx
"use client";

import Image from 'next/image';
import { PHASES, Step } from '@/lib/configurator-state';

interface PhaseIndicatorProps {
  currentStep: Step;
  completedSteps: Set<Step>;
  onPhaseClick?: (step: Step) => void;
}

export function PhaseIndicator({
  currentStep,
  completedSteps,
  onPhaseClick,
}: PhaseIndicatorProps) {
  const getCurrentPhase = () => {
    return PHASES.find(phase => phase.steps.includes(currentStep));
  };

  const getPhaseStatus = (phase: typeof PHASES[0]) => {
    const allCompleted = phase.steps.every(s => completedSteps.has(s as Step));
    const anyCompleted = phase.steps.some(s => completedSteps.has(s as Step));
    const isCurrent = phase.steps.includes(currentStep);
    
    if (allCompleted) return 'completed';
    if (isCurrent) return 'current';
    if (anyCompleted) return 'partial';
    return 'pending';
  };

  return (
    <div className="w-full mb-8">
      {/* Desktop: Horizontal phases */}
      <div className="hidden md:flex items-center justify-center max-w-2xl mx-auto">
        {PHASES.map((phase, index) => {
          const status = getPhaseStatus(phase);
          
          return (
            <div key={phase.id} className="flex items-center flex-1">
              {/* Phase circle with icon */}
              <button
                onClick={() => onPhaseClick?.(phase.steps[0] as Step)}
                className={`
                  relative flex items-center justify-center w-14 h-14 rounded-full
                  transition-all duration-300
                  ${status === 'completed' ? 'bg-emerald-500' : ''}
                  ${status === 'current' ? 'bg-indigo-500 ring-4 ring-indigo-500/20' : ''}
                  ${status === 'pending' ? 'bg-gray-100 dark:bg-gray-800' : ''}
                `}
              >
                {status === 'completed' ? (
                  <Image 
                    src="/images/configurator/steps/step-completed.svg" 
                    alt="Completed" 
                    width={24} 
                    height={24}
                  />
                ) : (
                  <Image 
                    src={phase.icon} 
                    alt={phase.label} 
                    width={24} 
                    height={24}
                    className={status === 'current' ? 'brightness-0 invert' : 'opacity-50'}
                  />
                )}
              </button>

              {/* Phase label */}
              <div className="ml-3">
                <div className={`
                  text-sm font-medium
                  ${status === 'current' ? 'text-indigo-600 dark:text-indigo-400' : ''}
                  ${status === 'completed' ? 'text-emerald-600' : ''}
                  ${status === 'pending' ? 'text-gray-400' : ''}
                `}>
                  {phase.label}
                </div>
                <div className="text-xs text-gray-500">{phase.description}</div>
              </div>

              {/* Connector */}
              {index < PHASES.length - 1 && (
                <div className="flex-1 mx-4 h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                  <div 
                    className={`h-full bg-gradient-to-r from-indigo-500 to-violet-500 transition-all duration-500`}
                    style={{ 
                      width: status === 'completed' ? '100%' : 
                             status === 'current' ? '50%' : '0%' 
                    }}
                  />
                </div>
              )}
            </div>
          );
        })}
      </div>

      {/* Mobile: Vertical phases */}
      <div className="md:hidden">
        {/* Show current phase info */}
        <div className="text-center">
          <span className="text-indigo-600 font-medium">
            {getCurrentPhase()?.label}
          </span>
          <span className="text-gray-400 mx-2">â€¢</span>
          <span className="text-gray-600">
            Step {currentStep} of 8
          </span>
        </div>
        
        {/* Progress bar */}
        <div className="mt-3 h-2 bg-gray-200 rounded-full overflow-hidden">
          <div 
            className="h-full bg-gradient-to-r from-indigo-500 to-violet-500 transition-all duration-300"
            style={{ width: `${(currentStep / 8) * 100}%` }}
          />
        </div>
      </div>
    </div>
  );
}
```

---

STEP 4: UPDATE ConfigurePage
----------------------------

Update `website/app/configure/page.tsx`:

```tsx
// Replace StepIndicator import
import { PhaseIndicator } from "@/app/components/configurator/PhaseIndicator";

// In the render, replace:
// <StepIndicator ... />

// With:
<PhaseIndicator
  currentStep={currentStep}
  completedSteps={completedSteps}
  onPhaseClick={(step) => setStep(step)}
/>
```

---

STEP 5: ADD CSS FOR ANIMATIONS
------------------------------

Add to `website/app/globals.css`:

```css
/* Configurator Phase Indicator */
.phase-pulse {
  animation: phasePulse 2s ease-in-out infinite;
}

@keyframes phasePulse {
  0%, 100% { 
    box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4);
  }
  50% { 
    box-shadow: 0 0 0 8px rgba(99, 102, 241, 0);
  }
}

/* Success celebration */
.celebration-enter {
  animation: celebrationPop 0.5s ease-out forwards;
}

@keyframes celebrationPop {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); opacity: 1; }
}
```

---

STEP 6: ADD COMPLETION CELEBRATION
----------------------------------

When user reaches step 8 (Export), show the celebration:

```tsx
// In ExportView.tsx or final step component

import Image from 'next/image';

// After successful export:
<div className="celebration-enter text-center py-8">
  <Image 
    src="/images/configurator/feedback/export-success-graphic.webp"
    alt="Export successful!"
    width={300}
    height={200}
    className="mx-auto"
  />
  <h2 className="text-2xl font-bold text-emerald-600 mt-4">
    ðŸŽ‰ Your project is ready!
  </h2>
</div>
```

---

TESTING CHECKLIST
-----------------

- [ ] Phase icons display correctly at 32x32
- [ ] Step status icons show correct states
- [ ] Connectors show progress between phases
- [ ] Mobile shows simplified progress bar
- [ ] Current phase has pulse animation
- [ ] Completed phases show emerald checkmark
- [ ] Clicking phase navigates to first step of that phase
- [ ] Export success shows celebration graphic
- [ ] Dark mode works correctly

---

COLOR REFERENCE (Enforced)
--------------------------

| Element | Color | Hex |
|---------|-------|-----|
| Current phase | Indigo | #6366F1 |
| Completed | Emerald | #10B981 |
| Pending | Gray | #71717A |
| Gradient | Indigoâ†’Violet | #6366F1â†’#8B5CF6 |

---

REFERENCE DOCUMENTS
-------------------

- UX Guide: output/media-pipeline/shared/UX_MULTI_STEP_GUIDE.md
- Color Philosophy: output/media-pipeline/shared/COLOR_PHILOSOPHY.md
- Review Report: output/media-pipeline/quality-agent/workspace/configurator-ux-redesign-review.md

---

*Handoff from Quality Agent | All Assets Approved | 2025-12-23*

